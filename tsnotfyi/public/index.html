<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <base href="/">
    <title>Stream</title>
    <link href="fonts/inter.css" rel="stylesheet">
    <link href="fonts/jetbrains-mono.css" rel="stylesheet">
    <script src="scripts/d3.v7.min.js"></script>
    <script src="scripts/three.min.js"></script>
    <link href="scripts/styles.css" rel="stylesheet">
    <script src="scripts/tubes.js"></script>
    <script src="scripts/scene.js"></script>
    <script src="scripts/fzf.js"></script>
    <script src="scripts/stream-controller.js"></script>
</head>
<body>
    <!-- Background layer -->
    <div id="background"></div>

    <!-- 3D visualization scene -->
    <div id="scene"></div>

    <!-- Now Playing Card -->
    <div id="nowPlayingCard">
        <div class="card">
            <div class="panel">
                <div class="photo" id="cardPhoto"></div>
                <span class="rim"></span>
                <div class="bottom"></div>
                <div class="label">
                    <h2 id="cardDirection">Journey</h2>
                    <h3 id="cardTitle">Loading...</h3>
                    <h4 id="cardArtist"></h4>
                    <h5 id="cardAlbum"></h5>
                    <p id="cardMeta"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Playlist Tray - Queue with left/right stacks -->
    <div id="nextTrackTray" aria-label="Playlist queue">
        <div class="playlist-left-stack" aria-label="Queued tracks"></div>
        <div class="playlist-right-stack" aria-label="Played tracks"></div>
    </div>

    <!-- Dimension Cards in Circular Layout -->
    <div id="dimensionCards"></div>

    <!-- Full-screen click catcher -->
    <div id="clickCatcher">
        <div class="hint">sound explorer</div>
    </div>

    <!-- Custom volume control -->
    <div id="volumeControl">
        <div id="volumeBar"></div>
    </div>
    <div class="diagnostic-bar">
        <div id="playbackClock" class="playback-clock is-hidden" title="Current playback time"></div>
    </div>


    <!-- Search icon for fzf activation -->
    <div id="searchIcon" title="Fuzzy search tracks">
        <span id="searchIconText">?</span>
    </div>

    <!-- Manual refresh button (double-click for new session) -->
    <div id="refreshButton" title="Click: refresh cards | Double-click: new session">
        <div class="refresh-icon">âŸ³</div>
    </div>

    <!-- Fuzzy search interface -->
    <div id="fzfSearch" class="hidden">
        <div class="fzf-container">
            <input type="text" id="fzfInput" placeholder=" ðŸ” fuzzy search tracks..." autocomplete="off" spellcheck="false">
            <div id="fzfResults" class="fzf-results"></div>
            <div class="fzf-hint">type to search â€¢ ESC to close â€¢ ENTER to jump to track â€¢ â†‘â†“ to navigate</div>
        </div>
    </div>

    <!-- Fullscreen progress bar -->
    <div id="fullscreenProgress">
        <div id="progressWipe"></div>
    </div>

    <audio id="audio"></audio>

    <script src="scripts/browser-logger.js"></script>
    <script src="scripts/deck-frame-builder.js"></script>
    <script type="module" src="scripts/page.js"></script>
</body>
</html>
