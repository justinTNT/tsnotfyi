<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <base href="/">
    <title>Stream</title>
    <link href="fonts/inter.css" rel="stylesheet">
    <link href="fonts/jetbrains-mono.css" rel="stylesheet">
    <script src="scripts/d3.v7.min.js"></script>
    <script src="scripts/three.min.js"></script>
    <link href="scripts/styles.css" rel="stylesheet">
    <script src="scripts/tools.js"></script>
    <script src="scripts/tubes.js"></script>
    <script src="scripts/scene.js"></script>
    <script src="scripts/helpers.js"></script>
    <script src="scripts/fzf.js"></script>
    <script src="scripts/stream-controller.js"></script>
</head>
<body>
    <!-- Background layer -->
    <div id="background"></div>

    <!-- 3D visualization scene -->
    <div id="scene"></div>

    <!-- Now Playing Card -->
    <div id="nowPlayingCard">
        <div class="card">
            <div class="panel">
                <div class="photo" id="cardPhoto"></div>
                <span class="rim"></span>
                <div class="bottom"></div>
                <div class="label">
                    <h2 id="cardDirection">Journey</h2>
                    <h3 id="cardTitle">Loading...</h3>
                    <h4 id="cardArtist"></h4>
                    <h5 id="cardAlbum"></h5>
                    <p id="cardMeta"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Next Track Tray -->
    <div id="nextTrackTray" aria-label="Upcoming selections">
        <div class="next-track-tray-preview" aria-hidden="true"></div>
    </div>

    <!-- Beets metadata chips -->
    <div id="beetsSegments" class="beets-hidden"></div>


    <!-- Dimension Cards in Circular Layout -->
    <div id="dimensionCards"></div>

    <!-- Full-screen click catcher -->
    <div id="clickCatcher">
        <div class="hint">sound explorer</div>
    </div>

    <!-- Custom volume control -->
    <div id="volumeControl">
        <div id="volumeBar"></div>
    </div>
    <div class="diagnostic-bar">
        <div id="playbackClock" class="playback-clock is-hidden" title="Current playback time"></div>
        <div id="radiusControls" class="radius-controls" title="Search scope">
            <button type="button" class="radius-button" data-radius-mode="microscope" aria-label="Microscope scope">üî¨</button>
            <button type="button" class="radius-button" data-radius-mode="magnifying" aria-label="Magnifying scope">üîç</button>
            <button type="button" class="radius-button" data-radius-mode="binoculars" aria-label="Binoculars scope">üî≠</button>
        </div>
    </div>


    <!-- Search icon for fzf activation -->
    <div id="searchIcon" title="Fuzzy search tracks">
        <span id="searchIconText">?</span>
    </div>

    <!-- Direction key overlay text -->
    <div id="directionKeyOverlay">
        <span class="directionKeyText" id="dkt1"></span>
        <span class="directionKeyText" id="dkt2"></span>
    </div>

    <!-- Manual refresh button -->
    <div id="refreshButton" title="Refresh session if stuck">
        <div class="refresh-icon">‚ü≥</div>
    </div>

    <!-- Fuzzy search interface -->
    <div id="fzfSearch" class="hidden">
        <div class="fzf-container">
            <input type="text" id="fzfInput" placeholder=" üîç fuzzy search tracks..." autocomplete="off" spellcheck="false">
            <div id="fzfResults" class="fzf-results"></div>
            <div class="fzf-hint">type to search ‚Ä¢ ESC to close ‚Ä¢ ENTER to jump to track ‚Ä¢ ‚Üë‚Üì to navigate</div>
        </div>
    </div>

    <!-- Fullscreen progress bar -->
    <div id="fullscreenProgress">
        <div id="progressWipe"></div>
    </div>

    <audio id="audio"></audio>

    <script src="scripts/page.js"></script>
</body>
</html>
